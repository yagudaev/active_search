<!DOCTYPE html>
<html lang="en">
<head>
    <title>ActionDispatch::ShowExceptions</title>
    <meta charset="UTF-8" />

<link rel="stylesheet" href="/rdoc/css/reset.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/rdoc/css/panel.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/rdoc/css/main.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<link rel="stylesheet" href="/rdoc/css/github.css" type="text/css" media="screen" data-turbolinks-track="reload" />
<script src="/rdoc/js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/rdoc/js/main.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/rdoc/js/highlight.pack.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/rdoc/js/turbolinks.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/rdoc/js/search_index.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/rdoc/js/searcher.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/rdoc/panel/tree.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script src="/rdoc/js/searchdoc.js" type="text/javascript" charset="utf-8" data-turbolinks-track="reload"></script>
<script type="text/javascript" charset="utf-8">
document.addEventListener("turbolinks:load", function() {
  // Only initialize panel if not yet initialized
  if(!$('#panel .tree ul li').length) {
    $('#links').hide();
    var panel = new Searchdoc.Panel($('#panel'), search_data, tree, '/');
    $('#search').focus();
    var s = window.location.search.match(/\?q=([^&]+)/);
    if (s) {
      s = decodeURIComponent(s[1]).replace(/\+/g, ' ');
      if (s.length > 0) {
        $('#search').val(s);
        panel.search(s, true);
      }
    }
    panel.toggle(["ActionDispatch", "ShowExceptions"]);
  }
})
</script>



    <meta property="og:title" value="ActionDispatch::ShowExceptions">



    <meta name="description" content="This middleware rescues any exception returned by the application and calls an exceptions app that will wrap it in a format for the end user.">
    <meta property="og:description" content="This middleware rescues any exception returned by the application and calls an exceptions app that will wrap it in a format for the end user.">


    <meta name="keywords" content="ActionDispatch::ShowExceptions class">

    <meta name="keywords" content="new, call">

</head>

<body>

    <div class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" />
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="/rdoc/panel/links.html" id="links">index</a>
</div>


    <div class="banner">

            <span>Ruby on Rails 6.1.0.rc1</span><br />

        <h1>
            <span class="type">Class</span>
            ActionDispatch::ShowExceptions

                <span class="parent">&lt;

                    <a href="../Object.html">Object</a>

                </span>

        </h1>
        <ul class="files">

            <li><a href="../../files/actionpack/lib/action_dispatch/middleware/show_exceptions_rb.html">actionpack/lib/action_dispatch/middleware/show_exceptions.rb</a></li>

        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">

    <div class="description">

<p>This middleware rescues any exception returned by the application and calls an exceptions app that will wrap it in a format for the end user.</p>

<p>The exceptions app should be passed as parameter on initialization of <a href="ShowExceptions.html"><code>ShowExceptions</code></a>. Every time there is an exception, <a href="ShowExceptions.html"><code>ShowExceptions</code></a> will store the exception in <a href=""action_dispatch.exception"">env</a>, rewrite the PATH_INFO to the exception status code and call the Rack app.</p>

<p>If the application returns a “X-Cascade” pass response, this middleware will send an empty response as result with the correct status code. If any exception happens inside the exceptions app, this middleware catches the exceptions and returns a <a href="ShowExceptions.html#FAILSAFE_RESPONSE"><code>FAILSAFE_RESPONSE</code></a>.</p>

    </div>














    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">

        <dt>C</dt>
        <dd>
          <ul>


              <li>
                <a href="#method-i-call">call</a>
              </li>

          </ul>
        </dd>

        <dt>N</dt>
        <dd>
          <ul>


              <li>
                <a href="#method-c-new">new</a>
              </li>

          </ul>
        </dd>

    </dl>













      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>

          <tr valign='top'>
            <td class="attr-name">FAILSAFE_RESPONSE</td>
            <td>=</td>
            <td class="attr-value">[500, { &quot;Content-Type&quot; =&gt; &quot;text/plain&quot; },
[&quot;500 Internal Server Error\n&quot; \
&quot;If you are the administrator of this website, then please read this web &quot; \
&quot;application&#39;s log file and/or the web server&#39;s log file to find out what &quot; \
&quot;went wrong.&quot;]]</td>
          </tr>

            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>


      </table>






    <!-- Methods -->

      <div class="sectiontitle">Class Public methods</div>

        <div class="method">
          <div class="title method-title" id="method-c-new">

              <b>new</b>(app, exceptions_app)

            <a href="../../classes/ActionDispatch/ShowExceptions.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>


            <div class="description">

            </div>








            <div class="sourcecode">

              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>

                  | <a href="https://github.com/rails/rails/blob/3baf25e1192df36db99162884b5c115db04dd0a3/actionpack/lib/action_dispatch/middleware/show_exceptions.rb#L26" target="_blank" class="github_url">on GitHub</a>

              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_dispatch/middleware/show_exceptions.rb, line 26</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">app</span>, <span class="ruby-identifier">exceptions_app</span>)
  <span class="ruby-ivar">@app</span> = <span class="ruby-identifier">app</span>
  <span class="ruby-ivar">@exceptions_app</span> = <span class="ruby-identifier">exceptions_app</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>

          </div>



      <div class="sectiontitle">Instance Public methods</div>

        <div class="method">
          <div class="title method-title" id="method-i-call">

              <b>call</b>(env)

            <a href="../../classes/ActionDispatch/ShowExceptions.html#method-i-call" name="method-i-call" class="permalink">Link</a>
          </div>


            <div class="description">

            </div>








            <div class="sourcecode">

              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-call_source')" id="l_method-i-call_source">show</a>

                  | <a href="https://github.com/rails/rails/blob/3baf25e1192df36db99162884b5c115db04dd0a3/actionpack/lib/action_dispatch/middleware/show_exceptions.rb#L31" target="_blank" class="github_url">on GitHub</a>

              </p>
              <div id="method-i-call_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_dispatch/middleware/show_exceptions.rb, line 31</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">call</span>(<span class="ruby-identifier">env</span>)
  <span class="ruby-identifier">request</span> = <span class="ruby-constant">ActionDispatch</span><span class="ruby-operator">::</span><span class="ruby-constant">Request</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">env</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">env</span>)
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">exception</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">show_exceptions?</span>
    <span class="ruby-identifier">render_exception</span>(<span class="ruby-identifier">request</span>, <span class="ruby-identifier">exception</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>

          </div>




</div>

    </div>
  </body>
</html>
